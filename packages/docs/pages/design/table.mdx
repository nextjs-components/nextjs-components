import { DesignLayout, DesignLayoutInner } from "../../components/DesignLayout";

export default function Wrapper({ children, paths }) {
  return (
    <DesignLayout paths={paths}>
      <DesignLayoutInner>{children}</DesignLayoutInner>
    </DesignLayout>
  );
}

export const getStaticProps = async () => {
  const fs = await import("fs");
  const path = await import("path");
  const dir = path.join(process.cwd(), "pages/design");
  const paths = fs
    .readdirSync(dir)
    .map((e) => path.join("/design", e.replace(".mdx", "")));
  return {
    props: {
      paths,
    },
  };
};

# Table

<Text h4 Component="h2" type="secondary" style={{ fontWeight: 400 }}>
  Display tabular data in row format. Some examples use the following variables
  for brevity:
</Text>

```js
const columns = [
  {
    Header: "First Name",
    accessor: "first",
  },
  {
    Header: "Last Name",
    accessor: "last",
  },
  {
    Header: "Email",
    accessor: "email",
  },
];

const data = [
  {
    first: "John",
    last: "Doe",
    email: "john@doe.com",
  },
  {
    first: "Dorothy",
    last: "Boe",
    email: "dorothy@boe.com",
  },
  {
    first: "Baby",
    last: "Moe",
    email: "baby@moe.com",
  },
];
```

<Spacer y={2} />

### Default

<Text type="secondary" noMargin>
  Always provide a caption. Columns and data <b>must</b> be memoized.
</Text>

<Spacer />

```
<Table
  columns={columns}
  data={data}
  caption="A basic table."
/>
```

<Spacer y={2} />

### Placeholder

```
<Table
  columns={columns}
  data={[]}
  caption="A table with placeholder rows."
  defaultRows={3}
  placeholder
/>
```

<Spacer y={2} />

### Empty

<Text type="secondary" noMargin>
  Use the same number of placeholder rows used while loading to avoid layout
  shift.
</Text>

<Spacer />

```
<Table
  columns={columns}
  data={[]}
  caption="An empty table."
  defaultRows={3}
  empty={
    <>
      No rows to display.{' '}
      <Link href="#" type="highlight">
        Import a project?
      </Link>
    </>
  }
/>
```

<Spacer y={2} />

### Column Align

<Text type="secondary" noMargin>
  Set the align property to change text alignment. Left by default.
</Text>

<Spacer />

```
() => {
  const columns = useMemo(() => [
    {
      Header: 'First Name',
      accessor: 'first'
    },
    {
      Header: 'Last Name',
      accessor: 'last',
      align: 'center'
    },
    {
      Header: 'Email',
      accessor: 'email',
      align: 'right'
    }
  ], [])

  return (
    <Table
      columns={columns}
      data={data}
      caption="A table with right and left aligned columns."
    />
  )
}
```

<Spacer y={2} />

### Overflow

<Text type="secondary" noMargin>
  Pass a number to change the minimum width of the table. Disable with a falsy
  value.
</Text>

<Spacer />

```
<Table
  columns={columns}
  data={data}
  caption="A table with minimum with of 1000px."
  overflow={1000}
/>
```

<Spacer y={2} />

### Column Class

<Text type="secondary" noMargin>
  Passing columnClassName applies the class to all headers and cells of the
  column.
</Text>

<Spacer />

```
() => {
  const columns = useMemo(() => [
    {
      Header: 'First Name',
      accessor: 'first'
    },
    {
      Header: 'Last Name',
      accessor: 'last',
      columnClassName: 'last-name-col'
    },
    {
      Header: 'Email',
      accessor: 'email'
    }
  ], [])

  return (
    <Table
      columns={columns}
      data={data}
      caption="A basic table with columnClassName applied to the second column."
    />
  )
}
```

<Spacer y={2} />

### Fixed Layout

<Text type="secondary" noMargin>
  Ensures column widths are stable, regardless of cell contents.
</Text>

<Spacer />

```
<Table
  columns={columns}
  data={data}
  caption="A table with fixed layout."
  fixed
/>
```

<Spacer y={2} />

### Fixed Column Widths

<Text type="secondary" noMargin>
  Manually set a column width.
</Text>

<Spacer />

```
() => {
  const columns = useMemo(() => {
    return [
      {
        Header: 'First Name',
        accessor: 'first',
        fixedWidth: 150,
      },
      {
        Header: 'Last Name',
        accessor: 'last',
        fixedWidth: 250
      },
      {
        Header: 'Email',
        accessor: 'email'
      }
    ]
  }, [])


  return (
    <Table
      columns={columns}
      data={data}
      caption="A table with fixed column widths."
      fixed
    />
  )
}
```

<Spacer y={2} />

### No Header

<Text type="secondary" noMargin>
  Columns are still required, fixed widths are respected.
</Text>

<Spacer />

```
<Table
  columns={columns}
  data={data}
  caption="A table without a table header."
  header={false}
/>
```

<Spacer y={2} />

### Ellipsis

<Text type="secondary" noMargin>
  Enabled per column, long cell values are automatically truncated. Requires
  fixed layout.
</Text>

<Spacer />

```
<div>TODO</div>
```

<Spacer y={2} />

### Sticky Header

<Text type="secondary" noMargin>
  Specify a number to change the offset from 0.
</Text>

<Spacer />

```
<div>TODO</div>
```

<Spacer y={2} />

### Sortable rows

<Text type="secondary" noMargin>
  Hold shift to sort by multiple columns. Columns can disable sorting.
</Text>

<Spacer />

```
<div>TODO</div>
```

<Spacer y={2} />

### Custom sorted column

<Text type="secondary" noMargin>
  Sort function must be memoized. Sorts alphanumerically by default.
</Text>

<Spacer />

```
<div>TODO</div>
```

<Spacer y={2} />

### Selectable rows

<Text type="secondary" noMargin>
  Hold shift to toggle many rows.
</Text>

<Spacer />

```

() => {

  return (
    <>
      <div>TODO</div>
      <Spacer/>
      <Table
        columns={columns}
        data={data}
        caption="A table with selectable rows."
        defaultRows={3}
        selectable
        headerActions={() => {}}
        rowActions={() => {}}
      />
    </>
  )
}
```

<Spacer y={2} />

<Spacer y={4} />
